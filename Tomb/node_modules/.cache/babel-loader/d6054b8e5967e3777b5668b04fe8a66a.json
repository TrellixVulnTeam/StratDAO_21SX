{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport Web3 from \"web3\";\nconst RebateTreasuryABI = [{\n  \"inputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"constructor\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"previousOwner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"newOwner\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"OwnershipTransferred\",\n  \"type\": \"event\"\n}, {\n  \"inputs\": [],\n  \"name\": \"DENOMINATOR\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"Tomb\",\n  \"outputs\": [{\n    \"internalType\": \"contract IERC20\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"TombOracle\",\n  \"outputs\": [{\n    \"internalType\": \"contract IOracle\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"Treasury\",\n  \"outputs\": [{\n    \"internalType\": \"contract ITreasury\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"WFTM\",\n  \"outputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"assets\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"isAdded\",\n    \"type\": \"bool\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"multiplier\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"oracle\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"bool\",\n    \"name\": \"isLP\",\n    \"type\": \"bool\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"pair\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"token\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"bond\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"bondFactor\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"bondThreshold\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"bondVesting\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"buybackAmount\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address payable\",\n    \"name\": \"to\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"value\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"bytes\",\n    \"name\": \"data\",\n    \"type\": \"bytes\"\n  }],\n  \"name\": \"call\",\n  \"outputs\": [{\n    \"internalType\": \"bytes\",\n    \"name\": \"\",\n    \"type\": \"bytes\"\n  }],\n  \"stateMutability\": \"payable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"claimRewards\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"account\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"claimableTomb\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"getBondPremium\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"token\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"getTokenPrice\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"getTombPrice\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"token\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"getTombReturn\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"lastBuyback\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"owner\",\n  \"outputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address[]\",\n    \"name\": \"tokens\",\n    \"type\": \"address[]\"\n  }],\n  \"name\": \"redeemAssetsForBuyback\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"renounceOwnership\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"secondaryFactor\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"secondaryThreshold\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"token\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"bool\",\n    \"name\": \"isAdded\",\n    \"type\": \"bool\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"multiplier\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"oracle\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"bool\",\n    \"name\": \"isLP\",\n    \"type\": \"bool\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"pair\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"setAsset\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"primaryThreshold\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"primaryFactor\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"secondThreshold\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"secondFactor\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"vestingPeriod\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"setBondParameters\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"tomb\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"setTomb\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"oracle\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"setTombOracle\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"treasury\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"setTreasury\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"totalVested\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"newOwner\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"transferOwnership\",\n  \"outputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"vesting\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"period\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"end\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"claimed\",\n    \"type\": \"uint256\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"lastClaimed\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}];\nconst web3 = new Web3(\"https://rpc.ftm.tools\");\nconst RebateTreasury = new web3.eth.Contract(RebateTreasuryABI, \"0xAE7E4b690866bcF128A29049D88e1bFc29432525\");\nconst assetList = [\"0xc54A1684fD1bef1f077a336E6be4Bd9a3096a6Ca\", // 2shares\n\"0x6398ACBBAB2561553a9e458Ab67dCFbD58944e52\" // 2shares/FTM LP\n];\n\nfunction useRebateTreasury() {\n  const [tombPrice, setTombPrice] = useState(0);\n  const [bondPremium, setBondPremium] = useState(0);\n  const [bondVesting, setBondVesting] = useState(0);\n  const [assets, setAssets] = useState(assetList.map(asset => ({\n    token: asset,\n    params: {\n      multiplier: 0,\n      isLP: false\n    },\n    price: 0\n  })));\n\n  async function update() {\n    const [tombPrice, bondPremium, bondVesting, assetParams, assetPrices] = await Promise.all([RebateTreasury.methods.getTombPrice().call(), RebateTreasury.methods.getBondPremium().call(), RebateTreasury.methods.bondVesting().call(), Promise.all(assetList.map(asset => RebateTreasury.methods.assets(asset).call())), Promise.all(assetList.map(asset => RebateTreasury.methods.getTokenPrice(asset).call()))]);\n    setTombPrice(+web3.utils.fromWei(tombPrice));\n    setBondPremium(+bondPremium / 10000);\n    setBondVesting(+bondVesting / 10000);\n    const assets = [];\n\n    for (let a = 0; a < assetList.length; a++) {\n      assets.push({\n        token: assetList[a],\n        params: {\n          multiplier: assetParams[a].multiplier,\n          isLP: assetParams[a].isLP\n        },\n        price: +web3.utils.fromWei(assetPrices[a])\n      });\n    }\n  }\n\n  useEffect(() => {\n    update();\n    const interval = setInterval(update, 10000);\n    return () => clearInterval(interval);\n  }, []);\n  return {\n    tombPrice,\n    bondPremium,\n    bondVesting,\n    assets\n  };\n}\n\nexport default useRebateTreasury;","map":{"version":3,"sources":["/Users/anthonymann/Desktop/Snowbank DAO/Tomb/src/hooks/useRebateTreasury.js"],"names":["useEffect","useState","Web3","RebateTreasuryABI","web3","RebateTreasury","eth","Contract","assetList","useRebateTreasury","tombPrice","setTombPrice","bondPremium","setBondPremium","bondVesting","setBondVesting","assets","setAssets","map","asset","token","params","multiplier","isLP","price","update","assetParams","assetPrices","Promise","all","methods","getTombPrice","call","getBondPremium","getTokenPrice","utils","fromWei","a","length","push","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport Web3 from \"web3\"\n\nconst RebateTreasuryABI = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DENOMINATOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"Tomb\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TombOracle\",\"outputs\":[{\"internalType\":\"contract IOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"Treasury\",\"outputs\":[{\"internalType\":\"contract ITreasury\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WFTM\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"assets\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isAdded\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"multiplier\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isLP\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"pair\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"bond\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bondFactor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bondThreshold\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bondVesting\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"buybackAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"call\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claimRewards\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"claimableTomb\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBondPremium\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getTokenPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTombPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"getTombReturn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastBuyback\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"}],\"name\":\"redeemAssetsForBuyback\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"secondaryFactor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"secondaryThreshold\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isAdded\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"multiplier\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isLP\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"pair\",\"type\":\"address\"}],\"name\":\"setAsset\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"primaryThreshold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"primaryFactor\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondThreshold\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"secondFactor\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"vestingPeriod\",\"type\":\"uint256\"}],\"name\":\"setBondParameters\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tomb\",\"type\":\"address\"}],\"name\":\"setTomb\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"setTombOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"treasury\",\"type\":\"address\"}],\"name\":\"setTreasury\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalVested\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"vesting\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"period\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"claimed\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastClaimed\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]\n\nconst web3 = new Web3(\"https://rpc.ftm.tools\")\nconst RebateTreasury = new web3.eth.Contract(RebateTreasuryABI, \"0xAE7E4b690866bcF128A29049D88e1bFc29432525\")\nconst assetList = [\n    \"0xc54A1684fD1bef1f077a336E6be4Bd9a3096a6Ca\", // 2shares\n    \"0x6398ACBBAB2561553a9e458Ab67dCFbD58944e52\" // 2shares/FTM LP\n]\n\nfunction useRebateTreasury() {\n\n    const [ tombPrice, setTombPrice ] = useState(0)\n    const [ bondPremium, setBondPremium ] = useState(0)\n    const [ bondVesting, setBondVesting ] = useState(0)\n    const [ assets, setAssets ] = useState(assetList.map(asset => ({\n        token: asset,\n        params: {\n            multiplier: 0,\n            isLP: false\n        },\n        price: 0\n    })))\n\n    async function update() {\n        const [\n            tombPrice,\n            bondPremium,\n            bondVesting,\n            assetParams,\n            assetPrices\n        ] = await Promise.all([\n            RebateTreasury.methods.getTombPrice().call(),\n            RebateTreasury.methods.getBondPremium().call(),\n            RebateTreasury.methods.bondVesting().call(),\n            Promise.all(assetList.map(asset => RebateTreasury.methods.assets(asset).call())),\n            Promise.all(assetList.map(asset => RebateTreasury.methods.getTokenPrice(asset).call()))\n        ])\n\n        setTombPrice(+web3.utils.fromWei(tombPrice))\n        setBondPremium(+bondPremium / 10000)\n        setBondVesting(+bondVesting / 10000)\n\n        const assets = []\n        for (let a = 0; a < assetList.length; a ++) {\n            assets.push({\n                token: assetList[a],\n                params: {\n                    multiplier: assetParams[a].multiplier,\n                    isLP: assetParams[a].isLP\n                },\n                price: +web3.utils.fromWei(assetPrices[a])\n            })\n        }\n    }\n\n    useEffect(() => {\n        update()\n        const interval = setInterval(update, 10000)\n        return () => clearInterval(interval)\n    }, [])\n\n    return {\n        tombPrice,\n        bondPremium,\n        bondVesting,\n        assets\n    }\n}\n\nexport default useRebateTreasury"]},"metadata":{},"sourceType":"module"}